(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,n){e.exports=n.p+"static/media/blueguy.ade51e63.png"},131:function(e,t,n){},16:function(e,t){e.exports={SketchThumbnailArray:["Ant","Badger","Bear","Beaver","Bird","Bug","Bull","Bumblebee","Butterfly","Cat","Caterpillar","Chicken","Clown Fish","Corgi","Cow","Crab","Deer","Dinosaur","Dog","Dolphin","Dragonfly","Duck","Elephant","Falcon","Fish","Fly","Frog","Giraffe","Gorilla","Grasshopper","Horse","Hummingbird","Insect","Kangaroo","Kiwi Bird","Ladybird","Leopard","Lion","Llama","Mite","Mosquito","Octopus","Panda","Prawn","Puffin Bird","Rabbit","Rhinoceros","Seahorse","Shark","Sheep","Snail","Spider","Starfish","Stork","Turtle","Unicorn","Whale","Wolf"],LanguageDropdownValues:[{display:"Python",value:"python"},{display:"Processing",value:"processing"},{display:"HTML",value:"html"}],LanguageDropdownDefault:{display:"Python",value:"python"}}},204:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){e.exports=n.p+"static/media/tla-logo.96efe073.svg"},279:function(e,t,n){"use strict";(function(e){var a=n(29),r=(new(n.n(a).a.auth.FacebookAuthProvider),{apiKey:"AIzaSyDVyHkYHjs7LeHyOWMSPRMTRgr8BrdkXis",authDomain:"aseemconnorpracticedb.firebaseapp.com",databaseURL:"https://aseemconnorpracticedb.firebaseio.com",projectId:"aseemconnorpracticedb",storageBucket:"aseemconnorpracticedb.appspot.com",messagingSenderId:"849734484070",appId:"1:849734484070:web:8d3eff0ee977915b"});e&&Object({NODE_ENV:"production",PUBLIC_URL:"/TeachLAFrontend",REACT_APP_FS_PROJ:"prod",REACT_APP_SERVER_TYPE:"prod"})&&(r={apiKey:"AIzaSyBfGWPbFcqH2HLc40B1yCY12B9F0_PO8SM",authDomain:"teachlacodeplatform-production.firebaseapp.com",databaseURL:"https://teachlacodeplatform-production.firebaseio.com",projectId:"teachlacodeplatform-production",storageBucket:"teachlacodeplatform-production.appspot.com",messagingSenderId:"165628144896"}),t.a=r}).call(this,n(91))},281:function(e,t,n){e.exports=n(578)},287:function(e,t,n){},289:function(e,t,n){},385:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},4:function(e,t,n){(function(t){var n={};["python","javascript","html","processing"].forEach(function(e){switch(e){case"python":return n[e]="python";case"javascript":return n[e]="javascript";case"html":return n[e]="htmlmixed";case"java":return n[e]="text/x-java";case"processing":return n[e]="javascript";case"c++":return n[e]="text/x-csrc";default:console.error("SUPPORTED LANGUAGE WITH NO MODE")}});var a="http://localhost:8081";t&&Object({NODE_ENV:"production",PUBLIC_URL:"/TeachLAFrontend",REACT_APP_FS_PROJ:"prod",REACT_APP_SERVER_TYPE:"prod"})&&(a="https://teach-la-backend.herokuapp.com");e.exports={PYTHON:"python",JAVASCRIPT:"javascript",HTML:"html",JAVA:"java",PROCESSING:"processing",CPP:"c++",PHOTO_NAMES:{lightbulb:"https://i.imgur.com/WKDHPon.pngg",orange:"https://i.imgur.com/DMc0L0P.png",pear:"https://i.imgur.com/T03MlZH.png",apple:"https://i.imgur.com/5S83eug.png",hotdog:"https://i.imgur.com/CWwlIOF.png",icecream:"https://i.imgur.com/OBHz5An.png",cloud:"https://i.imgur.com/Cw6IRTu.png",earth:"https://i.imgur.com/SBlnUnG.png",heart:"https://i.imgur.com/ySz1WAS.png"},DEFAULT_PHOTO_NAME:"icecream",SERVER_URL:a,MINIMUM_USERNAME_LENGTH:6,MINIMUM_PASSWORD_LENGTH:6,MINIMUM_DISPLAY_NAME_LENGTH:1,MAXIMUM_USERNAME_LENGTH:20,MAXIMUM_PASSWORD_LENGTH:20,MAXIMUM_DISPLAY_NAME_LENGTH:25,DEFAULT_MODE:"python",DEFAULT_LANG:"python",RING_LOADER_SIZE:50,PANEL_SIZE:250,CLOSED_PANEL_LEFT:-250,OPEN_PANEL_LEFT:0,CODEMIRROR_CONVERSIONS:n,EMAIL_DOMAIN_NAME:"@fake.com"}}).call(this,n(91))},400:function(e,t,n){},407:function(e,t,n){},408:function(e,t,n){},409:function(e,t,n){},410:function(e,t,n){},577:function(e,t,n){},578:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(180),s=n.n(o),c=(n(286),n(287),n(19)),i=n.n(c),l=n(38),u=n(6),d=n(7),p=n(9),m=n(8),h=n(10),g=n(590),f=n(591),b=n(594),E=n(593),v=n(268),y=n.n(v),k=(n(289),function(e){return r.a.createElement("footer",{className:"footer"},r.a.createElement("a",{href:"https://github.com/uclaacm/TeachLAFrontend",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"footer-image",src:y.a,alt:"Teach LA logo and link to GitHub Repository"})))}),w=(n(131),n(125)),S=n.n(w),O=n(273),N=n(76),M=n(4),C=n.n(M),j=n(580),L=function(e){var t=e.type,n=e.waiting,a=e.data,o=e.onChange;return r.a.createElement("div",null,r.a.createElement("div",{className:"login-form-input-header"},t),r.a.createElement("input",{className:"login-form-input",type:"Password"===t||"Confirm Password"===t?"password":"text",disabled:n,name:t,placeholder:"",value:a,onChange:function(e){return o(e.target.value)}}),r.a.createElement("br",null))},P=n(29),A=n.n(P),I=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleEmailLogin=function(e){n.setState({waiting:!0,errorMsg:""}),e.preventDefault();var t=n.state.username+M.EMAIL_DOMAIN_NAME,a=S()(n.state.password).toString();t&&a?A.a.auth().signInWithEmailAndPassword(t,a).then(function(){}).catch(function(e){console.error(e);var t=e.message;switch(e.code){case"auth/invalid-email":t="Invalid username. Usernames must only have alphanumeric characters plus !@#$%.";break;case"auth/user-not-found":t="No account found for username.";break;case"auth/wrong-password":t="Invalid password provided.";break;case"auth/network-request-failed":t="Network error - check your internet connection.";break;case"auth/app-deleted":case"auth/app-not-authorized":case"auth/argument-error":case"auth/invalid-api-key":case"auth/operation-not-allowed":case"auth/requires-recent-login":case"auth/unauthorized-domain":t="App was not properly configured. Please contact administrator. Error: "+e.code;break;case"auth/invalid-user-token":case"auth/user-disabled":case"auth/user-token-expired":case"auth/web-storage-unsupported":t="Issue with user. Please contact administrator. Error: "+e.code;break;default:t="Failed to sign in: "+e.code}n.setState({errorMsg:t,waiting:!1})}):n.setState({waiting:!1,errorMsg:"Failed to reach Firebase login services"})},n.handleSocialLogin=function(e){n.setState({waiting:!0}),A.a.auth().signInWithPopup(n.props.provider).catch(function(e){this.setState({errorMsg:"Failed to use Facebook login provider",waiting:!1})})},n.updateUsername=function(e){return n.setState({username:e})},n.updatePassword=function(e){return n.setState({password:e})},n.renderErrorMessage=function(e,t){return e?r.a.createElement("span",null,r.a.createElement("div",{className:"login-form-input-error"},e),t?r.a.createElement("br",null):null):r.a.createElement("br",null)},n.renderInputs=function(){return r.a.createElement("div",{className:"login-form-input-list"},r.a.createElement("div",null,r.a.createElement(L,{type:"Username",data:n.state.username,waiting:n.state.waiting,onChange:n.updateUsername}),r.a.createElement(L,{type:"Password",data:n.state.password,waiting:n.state.waiting,onChange:n.updatePassword})),n.renderErrorMessage(n.state.errorMsg))},n.renderAction=function(){return n.state.waiting?r.a.createElement("div",{className:"login-form-loader"},r.a.createElement(N.RingLoader,{color:"#857e8f",size:50,loading:!0})):r.a.createElement(O.a,{className:"login-form-button",size:"lg",type:"submit"},"Login")},n.state={username:"",password:"",errorMsg:"",waiting:!1},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-form-container"},r.a.createElement("form",{className:"login-form",onSubmit:this.handleEmailLogin},r.a.createElement("h1",null,"Welcome to ",r.a.createElement("span",{className:"force-no-wrap"},"<Teach LA>")),r.a.createElement("br",null),this.renderInputs(),this.renderAction(),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j.a,{to:"/createUser",className:"login-form-link"},"Don't have an account? Create one now!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("details",null,r.a.createElement("summary",null,"Forgot your password?"),r.a.createElement("p",null,"Send us an email at ",r.a.createElement("a",{href:"mailto:acmteachla@gmail.com"},"acmteachla@gmail.com")," ",'with "Forgot Password" in the subject, and we\'ll do our best to help you out!'))))}}]),t}(r.a.Component),x=n(126),T=n.n(x),R=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).renderMainContent=function(){return r.a.createElement("div",{className:"login-page-content",style:{backgroundImage:"url(".concat(T.a,")")}},r.a.createElement(I,{provider:n.props.provider}))},n.state={},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},this.renderMainContent(),r.a.createElement(k,null))}}]),t}(r.a.Component),D=n(13),_=n(127);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F="LOAD_USER_DATA";function W(e,t){return{type:F,userData:U({},t,{uid:e})}}var B="CLEAR_USER_DATA";function z(){return{type:B}}var G="LOAD_FAILURE";function V(e){return{type:G,waiting:!1,message:e}}var q="SET_DISPLAY_NAME";var K="SET_MOST_RECENT_PROGRAM";function J(e){return{type:K,value:e}}var Y="SET_PHOTO_NAME";var Z=Object(D.b)(function(e,t){return{loggedIn:e.userData}},function(e){return{loadUserData:function(t){e(W(t))},clearUserData:function(){e(z())},loadFailure:function(t){e(V(t))}}})(R),X=n(275),$=0,Q=1,ee=2,te=1e3,ne=(n(385),function(e){function t(e){var n;Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).updateSelectedState=function(e,t){if(n.props.allowMultipleSelected){var a=n.state.selected;if(t){var r=n.state.selected.indexOf(e);r>=0&&a.splice(r,1)}else a=n.state.selected.concat([e]);n.props.handleClick&&n.props.handleClick(a),n.setState({selected:a})}else n.props.handleClick&&n.props.handleClick(e),n.setState({selected:e})},n.renderOption=function(e,t){var a,o=e.display,s=e.value,c=(s=s||t)===n.state.selected||n.props.allowMultipleSelected&&n.state.selected.includes(s),i="radio-option"+(c?"-selected":""),l=0===t?"radio-left":t===n.props.options.length-1?"radio-right":"";return a=c?Object.assign({},n.props.optionStyle||{},n.props.selectedOptionStyle||{},n.props.selectedBgColor?{backgroundColor:n.props.selectedBgColor}:{},n.props.selectedColor?{color:n.props.selectedColor}:{}):Object.assign({},n.props.optionStyle||{},n.props.bgColor?{backgroundColor:n.props.bgColor}:{},n.props.color?{color:n.props.color}:{}),r.a.createElement("div",{className:i,onClick:function(){return n.updateSelectedState(s,c)},style:a,id:l,key:t},o)};var a=n.props.defaultSelected;return n.props.allowMultipleSelected&&(a=a||[]),n.state={selected:a},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.containerStyle,t=this.props.options||[];return r.a.createElement("div",{className:"radio-selector",style:e},t.map(this.renderOption))}}]),t}(r.a.Component)),ae=function(e){var t=[];return e.isSmall||t.push({display:"Both",value:$}),t=t.concat([{display:"Code",value:Q},{display:"Output",value:ee}]),r.a.createElement(ne,{options:t,defaultSelected:e.viewMode,containerStyle:{height:"40px"},handleClick:e.updateViewMode})},re=n(12),oe=n(18),se=function(e){var t=e.panelOpen,n=e.togglePanel;return t?r.a.createElement("div",{className:"editor-expand-panel-arrow-hidden"}):r.a.createElement("div",{className:"editor-expand-panel-arrow",title:"Open Profile Panel",onClick:n},r.a.createElement(oe.a,{icon:re.a}))},ce="SCREEN_RESIZE";var ie="TOGGLE_PANEL";function le(){return{type:ie}}var ue="SET_PANEL";var de=Object(D.b)(function(e){return{panelOpen:e.ui.panelOpen}},function(e){return{togglePanel:function(){return e(le())}}})(se),pe=n(581),me=n(582),he=n(583),ge=n(592),fe=n(46),be=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).toggleHandler=function(e){n.setState({dropdownOpen:!e})},n.selectLanguage=function(e){var t=!0;n.props.dirty&&(t=window.confirm("Are you sure you want to change programs? You have unsaved changes")),n.props.onSelect&&t&&n.props.onSelect(e)},n.renderDropdownItems=function(){return n.props.dropdownItems.map(function(e){var t;switch(e.language){case"python":t=fe.b;break;case"processing":t=re.c;break;case"html":default:t=fe.a}return r.a.createElement(pe.a,{key:e.key,onClick:function(){return n.selectLanguage(e.key)}},r.a.createElement(oe.a,{icon:t,fixedWidth:!0}),r.a.createElement("span",{style:{marginLeft:"10px"}},e.name))})},n.state={dropdownOpen:n.props.defaultOpen||!1},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this;switch(this.props.currentLanguage){case"python":e=fe.b;break;case"processing":e=re.c;break;case"html":default:e=fe.a}return r.a.createElement("div",{className:"editor-language-dropdown"},r.a.createElement(me.a,{isOpen:this.state.dropdownOpen,toggle:function(){return t.toggleHandler(t.state.dropdownOpen)}},r.a.createElement(he.a,{className:"btn-language-dropdown",color:"",caret:!0},r.a.createElement("div",{className:"editor-language-dropdown-closed-content"},r.a.createElement(oe.a,{icon:e,fixedWidth:!0})," ",this.props.displayValue)),r.a.createElement(ge.a,null,this.renderDropdownItems())))}}]),t}(r.a.Component),Ee=Object(D.b)(function(e){var t=e.userData.mostRecentProgram,n=e.programs.getIn([t,"language"],"python"),a=e.programs.getIn([t,"name"],t),r=e.programs.keySeq().map(function(t){return{name:e.programs.getIn([t,"name"],t),language:e.programs.getIn([t,"language"],"python"),key:t}});return{dirty:e.programs.getIn([t,"dirty"],!1),dropdownItems:r,displayValue:a,currentLanguage:n}},function(e){return{onSelect:function(t){e(J(t))}}})(be),ve=function(e,t){return"<html> ".concat('\n    <head>\n        <style>html,body: {margin:0, width:100%}</style>\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.min.js"><\/script>\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.dom.min.js"><\/script>\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.sound.min.js"><\/script>\n        <style>\n          #inner {\n            height:100px;\n            background-color:#222;\n            color: #DDD;\n            font-family: monospace;\n            word-wrap:break-word;\n            overflow:auto;\n            margin: 10px auto;\n            position:relative;\n            padding: 10px 35px 10px 10px;\n            width: 100%;\n            box-sizing: border-box;         /* For IE and modern versions of Chrome */\n            -moz-box-sizing: border-box;    /* For Firefox                          */\n            -webkit-box-sizing: border-box; /* For Safari                           */\n          }\n          #output { margin: 0px 10px; display: block; position: relative;}\n          #closeConsoleButton { position: fixed; top: 20px; right: 30px; color: #ddd;}\n        </style>\n    </head>\n  '," ").concat(function(e,t){return"\n    <body>\n      ".concat(t?'<div id="outer"><textarea id="inner"></textarea></div>':'<div id="outer" style="display:none;"><textarea id="inner"></textarea></div>',"\n      ").concat('\n    <script type="text/javascript">\n      if (typeof console  != "undefined")\n        if (typeof console.log != \'undefined\')\n          console.olog = console.log;\n        else\n          console.olog = function() {};\n\n      console.log = (message) => {\n        console.olog(message);\n        let a = document.getElementById("inner")\n        if(a){\n          // a.style.display = "block"\n          a.value = a.value + "> " + message + "\\n";\n          if(a.scrollTop >= (a.scrollHeight - a.offsetHeight) - a.offsetHeight){\n            a.scrollTop = a.scrollHeight\n          }\n        }\n      };\n\n      window.onerror = (err)=> {\n        let a = document.getElementById("outer")\n        if(a){\n          a.style.display = "block"\n        }\n        console.log("\\n\\nERROR: " + err + "\\n")\n      }\n\n      console.error = console.debug = console.info = console.log;\n\n      function closeConsole(){\n        var mypre = document.getElementById("inner");\n        mypre.style.display = "none"\n      }\n    <\/script>\n  ',"\n      ").concat(function(e){return'\n  <script type="text/javascript">\n    '.concat(e,"\n  <\/script>\n")}(e),"\n    </body>\n  ")}(e,t),"</html>")},ye=function(e,t){return"<html> ".concat('\n<head>\n  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"><\/script>\n  <script src="https://cdn.rawgit.com/skulpt/skulpt-dist/0.11.0/skulpt.min.js" type="text/javascript"><\/script>\n  <script src="https://cdn.rawgit.com/skulpt/skulpt-dist/0.11.0/skulpt-stdlib.js" type="text/javascript"><\/script>\n  <style> html, body { margin:0; background-color: #585166;}\n          #inner {\n            height:100px;\n            background-color:#222;\n            color: #DDD;\n            font-family: monospace;\n            word-wrap:break-word;\n            overflow:auto;\n            margin: 10px auto;\n            position:relative;\n            padding: 10px 35px 10px 10px;\n            width: 100%;\n            box-sizing: border-box;         /* For IE and modern versions of Chrome */\n            -moz-box-sizing: border-box;    /* For Firefox                          */\n            -webkit-box-sizing: border-box; /* For Safari                           */\n            resize: vertical;\n          }\n          #output { margin: 0px 10px; position: relative;}\n          #mycanvas { margin: 10px; }\n          #closeConsoleButton { position: fixed; top: 20px; right: 30px; color: #ddd;}\n          canvas { border: 1px solid black; }\n  </style>\n</head>\n'," ").concat(function(e,t){return'\n    <body onload="runit()">\n      '.concat(function(e){return'\n  <script type="text/javascript">\n    var received = false;\n    function outf(text) {\n        var mypre = document.getElementById("inner");\n        console.log(text)\n        if (text != "\\n") {\n          received = true\n        } else if (received == true) {\n          received = false\n        } else {\n          received = true\n        }\n        if(received){\n          mypre.value = mypre.value + "> " + text + "\\n";\n        }\n        if(mypre.scrollTop >= (mypre.scrollHeight - mypre.offsetHeight) - mypre.offsetHeight){\n          mypre.scrollTop = mypre.scrollHeight\n        }\n    }\n\n    function closeConsole(){\n      var mypre = document.getElementById("inner");\n      mypre.style.display = "none"\n    }\n\n    function builtinRead(x) {\n        if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)\n                throw "File not found: \'" + x + "\'";\n        return Sk.builtinFiles["files"][x];\n    }\n\n    function runit() {\n        var prog = atob(\''.concat(e,'\');\n        // console.log(prog)\n        //if you want to debug, you can uncomment this console log to see the code being run\n        //console.log(prog)\n        var mypre = document.getElementById("output");\n        // mypre.innerHTML = \'<div id="inner"><div id="closeConsoleButton" onclick="closeConsole()" title="Hide Console">X</div></div>\';\n        mypre.innerHTML = \'<textarea id="inner" readonly></textarea>\';\n        Sk.pre = "output";\n        Sk.configure({output:outf, read:builtinRead});\n        (Sk.TurtleGraphics || (Sk.TurtleGraphics = {})).target = \'mycanvas\';\n        var myPromise = Sk.misceval.asyncToPromise(function() {\n\n            return Sk.importMainWithBody("<stdin>", false, prog, true);\n        });\n        myPromise.then(function(mod) {\n            //console.log(\'success\');\n        },\n        function(err) {\n            console.log(err.toString());\n            let b = document.getElementById("output")\n            if(b){\n              console.log("output found")\n              b.style.display = "block"\n            }\n            let a = document.getElementById("inner")\n            a.value += \'\\nERROR: \' + err.toString() + "\\n"\n        });\n    }\n  <\/script>\n')}(e),"\n      ").concat(t?'<div id="output"> </div>':'<div id="output" style="display:none;"> </div>','\n      <div id="mycanvas"></div>\n    </body>\n  ')}(e,t)," </html>")},ke=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).shouldComponentUpdate=function(e,t){return n.state.showConsole!==t.showConsole||(n.props.mostRecentProgram!==e.mostRecentProgram?(n.firstLoad=!0,!0):(n.state.run!==t.run||n.state.counter!==t.counter||n.state.showConsole!==t.showConsole)&&(n.firstLoad=!1,!0))},n.reRenderOutput=function(){n.setState(function(e){return{counter:e.counter+1}})},n.renderIframe=function(e){return e||"[object Function]"!=={}.toString.call(e)?r.a.createElement("iframe",{id:n.state.counter+" "+n.state.run,key:n.state.counter+" "+n.state.run,className:"editor-output-iframe",style:{height:n.props.screenHeight-61+"px"},srcDoc:e(),src:"",title:"output-iframe",onLoad:function(e){}}):(console.log("Null src doc function found"),null)},n.renderOutput=function(){var e=n.props,t=e.language,a=e.runResult,r=n.state.showConsole;if(n.firstLoad)return null;if(!a||!a.length)return null;var o=function(){return a};switch(t){case M.PROCESSING:o=function(){return ve(a,r)};break;case M.PYTHON:a=btoa(a),o=function(){return ye(a,r)};break;case M.JAVA:case M.JAVASCRIPT:case M.CPP:case M.HTML:}return n.renderIframe(o)},n.renderOpenPanelButton=function(){return n.props.viewMode===ee&&r.a.createElement(de,null)},n.renderLanguageDropdown=function(){return n.props.viewMode===ee&&r.a.createElement(Ee,null)},n.renderRadio=function(){return n.props.viewMode===ee&&r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(ae,{viewMode:n.props.viewMode,updateViewMode:n.props.updateViewMode,isSmall:n.props.isSmall}))},n.toggleConsole=function(){n.setState(function(e){return{showConsole:!e.showConsole}})},n.renderConsoleButton=function(){return r.a.createElement(O.a,{className:"mx-2",color:n.state.showConsole?"danger":"primary",onClick:n.toggleConsole,title:n.state.showConsole?"Hide Console":"Show Console",size:"lg"},r.a.createElement(oe.a,{icon:re.k}))},n.renderBanner=function(){return r.a.createElement("div",{className:"editor-output-banner"},n.renderOpenPanelButton(),n.renderLanguageDropdown(),r.a.createElement("div",{style:{flex:"1 1 auto"}}," ")," ",n.renderRadio(),n.renderConsoleButton(),r.a.createElement(O.a,{className:"mx-2",color:"primary",size:"lg",onClick:n.runCode},r.a.createElement(oe.a,{icon:re.h}),"\xa0\xa0Run"))},n.runCode=function(){n.setState(function(e){return{run:e.run+1}})},n.state={counter:0,run:0,showConsole:!0},n.firstLoad=!0,n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"editor-output"},this.renderBanner(),r.a.createElement("div",null,this.renderOutput()))}}]),t}(r.a.Component),we=Object(D.b)(function(e){var t=e.userData.mostRecentProgram;return{mostRecentProgram:t,runResult:e.programs.getIn([t,"code"]),language:e.programs.getIn([t,"language"]),screenHeight:e.ui.screenHeight}},function(e){return{clearOutput:function(){}}})(ke),Se=n(51),Oe=n.n(Se),Ne=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n,a,r,o,s,c,l,u,d=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:"",n=d.length>1&&void 0!==d[1]&&d[1],a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(C.a.SERVER_URL,"/getUserData/").concat(e).concat(t?"?programs=true":"")},r={method:"get",mode:"cors"},e.prev=4,e.next=7,fetch(a(t,n),r);case 7:return o=e.sent,e.next=10,o.json();case 10:return s=e.sent,c=s.ok,l=s.data,u=s.error,e.abrupt("return",{ok:c,data:l,error:u});case 17:return e.prev=17,e.t0=e.catch(4),e.abrupt("return",{ok:"false",error:"SERVER ERROR: Unable to get user data from server",err:e.t0});case 20:case"end":return e.stop()}},e,null,[[4,17]])}));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n="";try{Object.keys(t).length&&(n=JSON.stringify(t))}catch(r){console.log(r)}var a={method:"put",headers:{"Content-Type":"application/json"},body:n};return fetch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(C.a.SERVER_URL,"/updatePrograms/").concat(e)}(e),a)},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n="";try{Object.keys(t).length&&(n=JSON.stringify(t))}catch(r){return void console.log(r)}var a={method:"post",headers:{"Content-Type":"application/json; charset=utf-8"},body:n};return fetch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(C.a.SERVER_URL,"/updateUserData/").concat(e)}(e),a)},je=function(e){var t="";try{Object.keys(e).length&&(t=JSON.stringify(e))}catch(a){return void console.log(a)}var n={method:"post",headers:{"Content-Type":"application/json; charset=utf-8"},body:t};return fetch("".concat(C.a.SERVER_URL,"/createProgram"),n)},Le=function(e){var t="";try{Object.keys(e).length&&(t=JSON.stringify(e))}catch(a){return void console.log(a)}var n={method:"post",headers:{"Content-Type":"application/json; charset=utf-8"},body:t};return fetch("".concat(C.a.SERVER_URL,"/deleteProgram"),n)},Pe=null;"undefined"!==typeof window&&"undefined"!==typeof window.navigator&&(Pe=n(388).Controlled,n(201),n(389),n(392),n(393));var Ae=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).componentWillUnmount=function(){window.removeEventListener("beforeunload",n.onLeave),window.removeEventListener("close",n.onLeave)},n.checkDirty=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.dirty){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,(t={})[n.props.mostRecentProgram]={code:n.props.code},e.next=7,Me(n.props.uid,t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])})),n.onLeave=function(){var e=Object(l.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dirty&&(t.returnValue=""),e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.setCodeMirrorInstance=function(e){n.setState({codeMirrorInstance:e})},n.updateCode=function(e,t,a){n.props.dirty||n.props.code===a||n.props.dirtyCode(n.props.mostRecentProgram),n.props.setProgramCode(n.props.mostRecentProgram,a)},n.setCurrentLine=function(e){var t=n.state,a=t.codeMirrorInstance,r=t.currentLine,o=e.getCursor().line;a&&(a.removeLineClass(r,"wrap","selected-line"),a.addLineClass(o,"wrap","selected-line")),n.setState({currentLine:o})},n.state={codeMirrorInstance:null,currentLine:0},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.onLeave),window.addEventListener("close",this.onLeave)}},{key:"componentWillUpdate",value:function(){}},{key:"render",value:function(){var e=this,t={mode:M.CODEMIRROR_CONVERSIONS[this.props.language],theme:"material",lineNumbers:!0,lineWrapping:!0,indentWithTabs:!0};return r.a.createElement(Pe,{editorDidMount:function(t){t.refresh(),e.setCodeMirrorInstance(t)},value:this.props.code,lineWrapping:!0,indentWithTabs:!0,options:t,onCursor:function(t){e.setCurrentLine(t)},onBeforeChange:this.updateCode,onChange:this.updateCode})}}]),t}(r.a.Component),Ie="SET_PROGRAM_CODE";var xe="SET_PROGRAM_LANGUAGE";var Te="SET_PROGRAM_NAME";var Re="SET_PROGRAM_THUMBNAIL";var De="DELETE_PROGRAM";var _e="LOAD_PROGRAMS";var He="CLEAR_PROGRAMS";var Ue="SET_PROGRAM_DIRTY";function Fe(e,t){return{type:Ue,program:e,value:t}}var We="ADD_PROGRAM";function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ze=Object(D.b)(function(e){var t=e.userData,n=t.uid,a=t.mostRecentProgram;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.programs.get(a,Oe.a.Map()).toJS(),{mostRecentProgram:a,uid:n})},function(e,t){return{setProgramCode:function(t,n){e(function(e,t){return{type:Ie,program:e,value:t}}(t,n))},dirtyCode:function(t){e(Fe(t,!0))}}})(Ae),Ge=(n(394),n(395),n(396),n(397),n(398),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).resetSaveText=function(){n.setState({saveText:"Save"})},n.handleSave=function(e){if(n.props.dirty){n.setState({saveText:"Saving..."});var t={};t[n.props.mostRecentProgram]={code:n.props.code},Me(n.props.uid,t).then(function(){n.setState({saveText:"Saved!"}),setTimeout(n.resetSaveText,3e3)}),n.props.cleanCode(n.props.mostRecentProgram)}},n.renderDropdown=function(){return r.a.createElement(Ee,null)},n.renderCodeAndOutput=function(){return r.a.createElement(X.a,{resizerStyle:{height:"67px",borderLeft:"2px solid #333",borderRight:"2px solid #333",width:"10px"},pane1Style:n.state.pane1Style,onDragStarted:function(){return n.setState({pane1Style:{}})},onDragFinished:function(){return n.setState({pane1Style:{transition:"width .5s ease"}})},split:"vertical",minSize:.33*(n.props.panelOpen?n.props.screenWidth-M.PANEL_SIZE:n.props.screenWidth),maxSize:.75*(n.props.panelOpen?n.props.screenWidth-M.PANEL_SIZE:n.props.screenWidth),size:(n.props.panelOpen?n.props.screenWidth-M.PANEL_SIZE:n.props.screenWidth)/2,allowResize:!0},n.renderCode(),n.renderOutput())},n.updateViewMode=function(e){n.setState({viewMode:e})},n.renderCode=function(){return r.a.createElement("div",{className:"code-section"},r.a.createElement("div",{className:"code-section-banner"},r.a.createElement(de,null),n.renderDropdown(),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(ae,{viewMode:n.state.viewMode,updateViewMode:n.updateViewMode,isSmall:n.props.screenWidth<=te})),r.a.createElement(O.a,{className:"mx-2",color:"success",size:"lg",onClick:n.handleSave},r.a.createElement(oe.a,{icon:re.i}),"\xa0\xa0",n.state.saveText)),r.a.createElement("div",{className:"text-editor-container",style:{height:n.props.screenHeight-61-20,minHeight:n.props.screenHeight-61-20,maxHeight:n.props.screenHeight-61-20}},r.a.createElement(ze,{key:n.props.mostRecentProgram})))},n.renderOutput=function(){return r.a.createElement(we,{viewMode:n.state.viewMode,updateViewMode:n.updateViewMode,isSmall:n.props.screenWidth<=te})},n.renderContent=function(){var e={width:n.props.screenWidth-(n.props.left||0),height:n.props.screenHeight};switch(n.state.viewMode){case Q:return r.a.createElement("div",{style:e},n.renderCode());case ee:return r.a.createElement("div",{style:e},n.renderOutput());default:return n.renderCodeAndOutput()}},n.state={saveText:"Save",viewMode:$,redirect:"",pane1Style:{transition:"width .5s ease"}},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.props.screenWidth<=te&&this.setState({viewMode:Q}),0===this.props.listOfPrograms.length&&this.setState({redirect:"/sketches"})}},{key:"componentDidUpdate",value:function(e){this.props.screenWidth!==e.screenWidth&&this.props.screenWidth<=te&&this.state.viewMode===$&&this.setState({viewMode:Q})}},{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(g.a,{to:this.state.redirect});var e={left:this.props.left||0,width:this.props.screenWidth-(this.props.left||0),height:this.props.screenHeight};return r.a.createElement("div",{className:"editor",style:e},this.renderContent())}}]),t}(r.a.Component)),Ve="CLEAR_OUTPUT";var qe="SET_RUN_RESULT";var Ke="SET_OUTPUT_LANGAUGE";var Je="SET_OUTPUT";var Ye=Object(D.b)(function(e){var t=e.userData.mostRecentProgram,n=e.programs.getIn([t,"code"],void 0),a=e.programs.getIn([t,"dirty"],!1),r=[];return e.programs.keySeq().forEach(function(e){return r.push(e)}),{uid:e.userData.uid,mostRecentProgram:t,code:n,listOfPrograms:r,screenWidth:e.ui.screenWidth,screenHeight:e.ui.screenHeight,dirty:a,panelOpen:e.ui.panelOpen,left:(e.ui.panelOpen?M.OPEN_PANEL_LEFT:M.CLOSED_PANEL_LEFT)+M.PANEL_SIZE}},function(e){return{setMostRecentProgram:function(t){return e(J(t))},runCode:function(t,n){return e(function(e){var t=e.output;return t?{type:Je,runResult:t.code,language:t.language}:{type:"IGNORE"}}(t))},cleanCode:function(t){return e(Fe(t,!1))},togglePanel:function(){return e(le())}}})(Ge),Ze=(n(400),n(584)),Xe=n(585),$e=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sketch-box"},r.a.createElement(j.a,{className:"sketch-box-body",onClick:this.props.redirFunc,to:{pathname:"/editor"}},r.a.createElement("img",{alt:"User's sketch icon",src:"".concat("/TeachLAFrontend","/img/sketch-thumbnails/").concat(this.props.img,".svg"),className:"sketch-thumbnail mt-2"}),r.a.createElement("div",{className:"sketch-metadata"},r.a.createElement("b",{className:"sketch-name"},this.props.name),r.a.createElement(oe.a,{className:"sketch-icon",icon:this.props.icon}))),r.a.createElement("hr",{className:"sketch-divider"}),r.a.createElement(Ze.a,{className:"sketch-box-body"},r.a.createElement(Xe.a,{className:"p-2 text-center",onClick:this.props.editFunc},r.a.createElement(oe.a,{className:"fa-lg",icon:re.e})),r.a.createElement("div",{className:"sketch-button-divider"}),r.a.createElement(Xe.a,{className:"p-2 text-center",onClick:this.props.downloadFunc},r.a.createElement(oe.a,{className:"fa-lg",icon:re.d})),r.a.createElement("div",{className:"sketch-button-divider"}),r.a.createElement(Xe.a,{className:"p-2 text-center",onClick:this.props.deleteFunc},r.a.createElement(oe.a,{className:"fa-lg",icon:re.m}))))}}]),t}(r.a.Component),Qe=n(47),et=n.n(Qe),tt=n(586),nt=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).closeModal=function(){n.props.onClose&&"[object Function]"==={}.toString.call(n.props.onClose)&&n.props.onClose()},n.onDeleteSubmit=function(){var e={uid:n.props.uid,docID:n.props.sketchKey,name:n.props.sketchKey};try{Le(e).then(function(e){return e.json()}).then(function(e){e.ok?(n.props.deleteProgram(n.props.sketchKey),n.closeModal()):n.setState({spinner:!1,error:e.error||"Failed to create sketch, please try again later"})}).catch(function(e){n.setState({spinner:!1,error:"Failed to create sketch, please try again later"}),console.log(e)})}catch(t){console.log(t)}n.setState({spinner:!0,error:""})},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return r.a.createElement(et.a,{isOpen:this.props.isOpen,onRequestClose:this.closeModal,className:"sketches-modal",ariaHideApp:!1},r.a.createElement(tt.a,null,r.a.createElement("h2",{className:"text-center"},'Are you sure you want to delete "',this.props.sketchName,'"?'),r.a.createElement("hr",null),r.a.createElement(Ze.a,null,r.a.createElement(Xe.a,null,r.a.createElement(O.a,{color:"secondary",onClick:this.closeModal,size:"lg",block:!0},"No thanks!")),r.a.createElement(Xe.a,null,r.a.createElement(O.a,{color:"danger",onClick:this.onDeleteSubmit,size:"lg",block:!0},"Delete Forever!")))))}}]),t}(r.a.Component),at=Object(D.b)(function(e){return{uid:e.userData.uid}},function(e){return{deleteProgram:function(t,n){return e(function(e){return{type:De,program:e}}(t))}}})(nt),rt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).toggleHandler=function(e){n.setState({dropdownOpen:!e})},n.renderDropdownItems=function(){return n.props.dropdownItems.map(function(e){var t=e.display,a=e.value;return t&&t.length&&a&&a.length?r.a.createElement(pe.a,{key:a,onClick:n.props.onSelect?function(){return n.props.onSelect({display:t,value:a})}:null},t):null})},n.state={dropdownOpen:n.props.defaultOpen||!1},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return this.props.dropdownItems&&this.props.dropdownItems.length?r.a.createElement("div",{className:"sketches-language-dropdown"},r.a.createElement(me.a,{isOpen:this.state.dropdownOpen,toggle:function(){return e.toggleHandler(e.state.dropdownOpen)}},r.a.createElement(he.a,{color:"primary",size:"lg",caret:!0},r.a.createElement("div",{className:"sketches-language-dropdown-closed-content"},this.props.displayValue)),r.a.createElement(ge.a,null,this.renderDropdownItems()))):this.props.displayValue}}]),t}(r.a.Component),ot=n(16),st=n(587),ct=n(588),it=n(589),lt=(n(204),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).closeModal=function(){n.props.onClose&&"[object Function]"==={}.toString.call(n.props.onClose)&&n.props.onClose(),n.setState({next:!1,language:ot.LanguageDropdownDefault,name:"",thumbnail:-1,error:"",disableSubmit:!1})},n.setNext=function(e){n.setState({next:e,error:"",disableSubmit:!1})},n.onBack=function(){return n.setNext(!1)},n.badThumbnailInput=function(){return void 0===n.state.thumbnail||""===n.state.thumbnail||n.state.thumbnail>=ot.SketchThumbnailArray.length||n.state.thumbnail<0},n.badNameInput=function(){return n.state.name?n.state.name.length>15&&(n.setState({error:"Name must be 15 characters or less"}),!0):(n.setState({error:"Name is required"}),!0)},n.badLanguageInput=function(){if(!n.state.language)return n.setState({error:"Please select a language"}),!0;for(var e=!0,t=0;t<ot.LanguageDropdownValues.length;t++)if(n.state.language.display===ot.LanguageDropdownValues[t].display&&n.state.language.value===ot.LanguageDropdownValues[t].value){e=!1;break}return!!e&&(n.setState({error:"Invalid language selected"}),!0)},n.onFirstSubmit=function(e){e.preventDefault(),n.badNameInput()||n.badLanguageInput()||n.setNext(!0)},n.onSecondSubmit=function(){var e=Object(l.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.badThumbnailInput()){e.next=3;break}return e.abrupt("return");case 3:a={uid:n.props.uid,thumbnail:n.state.thumbnail,language:n.state.language.value,name:n.state.name,code:""};try{je(a).then(function(e){return e.json()}).then(function(e){e.ok?(n.props.addProgram(e.data.key,e.data.programData||{}),n.props.setMostRecentProgram(e.data.key),n.setState({redirect:!0}),n.closeModal()):n.setState({disableSubmit:!1,error:e.error||"Failed to create sketch, please try again later"})}).catch(function(e){n.setState({disableSubmit:!1,error:"Failed to create sketch, please try again later"}),console.log(e)})}catch(r){console.log(r)}n.setState({disableSubmit:!0,error:""});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.renderSecondModal=function(){var e=ot.SketchThumbnailArray.map(function(e,t){return r.a.createElement("figure",{className:"sketches-gallery-item",key:e,onClick:function(){return n.setState({thumbnail:t})}},r.a.createElement("img",{src:"".concat("/TeachLAFrontend","/img/sketch-thumbnails/").concat(e,".svg"),className:"sketches-gallery-img"+(n.state.thumbnail===t?"-selected":""),alt:"icon"}))}),t=-1!==n.state.thumbnail?r.a.createElement("img",{src:"".concat("/TeachLAFrontend","/img/sketch-thumbnails/").concat(ot.SketchThumbnailArray[n.state.thumbnail],".svg"),className:"sketches-modal-header-thumbnail",alt:"icon"}):null;return r.a.createElement(et.a,{isOpen:n.props.isOpen,onRequestClose:n.closeModal,className:"sketches-image-modal",overlayClassName:"profile-image-overlay",ariaHideApp:!1},r.a.createElement(tt.a,null,r.a.createElement("div",{className:"sketches-modal-header d-flex align-items-center"},r.a.createElement("h1",null,"Choose a thumbnail"),r.a.createElement("div",{className:"sketches-modal-header-thumbnail-container"},t)),r.a.createElement("hr",null),r.a.createElement("div",{className:"sketches-gallery"},e),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center text-danger"},n.state.error||r.a.createElement("br",null)),r.a.createElement("hr",null),r.a.createElement(Ze.a,null,r.a.createElement(Xe.a,null,r.a.createElement(O.a,{color:"secondary",onClick:n.onBack,disabled:n.state.disableSubmit,size:"lg",block:!0},"Back")),r.a.createElement(Xe.a,null,r.a.createElement(O.a,{color:"success",onClick:n.onSecondSubmit,size:"lg",disabled:n.badThumbnailInput()||n.state.disableSubmit,block:!0},"Create")))))},n.renderFirstModal=function(){return r.a.createElement(et.a,{isOpen:n.props.isOpen,onRequestClose:n.closeModal,className:"sketches-modal",overlayClassName:"profile-image-overlay",ariaHideApp:!1},r.a.createElement(tt.a,null,r.a.createElement("h1",{className:"text-center"},"Create a Sketch"),r.a.createElement("hr",null),r.a.createElement(st.a,{row:!0},r.a.createElement(ct.a,{className:"text-right",for:"sketch-name",xs:4},"Name"),r.a.createElement(Xe.a,{xs:8},r.a.createElement(it.a,{onChange:function(e){return n.setState({name:e.target.value})},value:n.state.name,id:"sketch-name"}))),r.a.createElement("br",null),r.a.createElement(Ze.a,null,r.a.createElement(Xe.a,{xs:"4",className:"text-right"},"Language"),r.a.createElement(Xe.a,{xs:"8",className:"d-flex align-items-center"},r.a.createElement(rt,{dropdownItems:ot.LanguageDropdownValues,onSelect:function(e){return n.setState({language:e})},displayValue:n.state.language.display||ot.LanguageDropdownDefault.display}))),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center text-danger"},n.state.error||r.a.createElement("br",null)),r.a.createElement("hr",null),r.a.createElement(Ze.a,null,r.a.createElement(Xe.a,null,r.a.createElement(O.a,{color:"danger",onClick:n.closeModal,size:"lg",block:!0},"Cancel")),r.a.createElement(Xe.a,null,r.a.createElement(O.a,{color:"success",onClick:n.onFirstSubmit,size:"lg",block:!0},"Next")))))},n.state={language:ot.LanguageDropdownDefault,name:"",next:!1,thumbnail:-1,disableSubmit:!1,error:"",redirect:!1},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(g.a,{to:"/editor"}):this.state.next?this.renderSecondModal():this.renderFirstModal()}}]),t}(r.a.Component)),ut=Object(D.b)(function(e){return{uid:e.userData.uid}},function(e){return{addProgram:function(t,n){return e(function(e,t){return{type:We,program:e,data:t}}(t,n))},setMostRecentProgram:function(t){return e(J(t))}}})(lt),dt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).closeModal=function(){n.props.onClose&&"[object Function]"==={}.toString.call(n.props.onClose)&&n.props.onClose(),n.setState({newLanguage:-1,newName:-1,newThumbnail:-1,error:"",onThumbnails:!1,disableSubmit:!1})},n.badNameInput=function(){return-1!==n.state.newName&&(n.state.newName?n.state.newName.length>15&&(n.setState({error:"Name must be 15 characters or less"}),!0):(n.setState({error:"Name is required"}),!0))},n.badLanguageInput=function(){if(-1===n.state.newLanguage)return!1;if(!n.state.newLanguage)return n.setState({error:"Please select a language"}),!0;for(var e=!0,t=0;t<ot.LanguageDropdownValues.length;t++)if(n.state.newLanguage.display===ot.LanguageDropdownValues[t].display&&n.state.newLanguage.value===ot.LanguageDropdownValues[t].value){e=!1;break}return!!e&&(n.setState({error:"Invalid language selected"}),!0)},n.handleSubmitEdit=function(){var e=Object(l.a)(i.a.mark(function e(t){var a,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.badNameInput()&&!n.badLanguageInput()){e.next=3;break}return e.abrupt("return");case 3:if(a={},r=!1,-1!==n.state.newLanguage&&(a.language=n.state.newLanguage.value,r=!0),-1!==n.state.newName&&(a.name=n.state.newName,r=!0),-1!==n.state.newThumbnail&&(a.thumbnail=n.state.newThumbnail,r=!0),r){(o={})[n.props.sketchKey]=a;try{Me(n.props.uid,o).then(function(e){return e.json()}).then(function(e){e.ok?(-1!==n.state.newLanguage&&n.props.setProgramLanguage(n.props.sketchKey,n.state.newLanguage.value),-1!==n.state.newName&&n.props.setProgramName(n.props.sketchKey,n.state.newName),-1!==n.state.newThumbnail&&n.props.setProgramThumbnail(n.props.sketchKey,n.state.newThumbnail),n.closeModal()):n.setState({disableSubmit:!1,error:e.error||"Failed to edit sketch, please try again later"})}).catch(function(e){n.setState({disableSubmit:!1,error:"Failed to edit sketch, please try again later"}),console.log(e)})}catch(s){console.log(s)}n.setState({disableSubmit:!0,error:""})}else n.closeModal();case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.state={newLanguage:-1,newName:-1,newThumbnail:-1,disableSubmit:!1,error:"",onThumbnails:!1},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"renderMainModal",value:function(){var e=this,t=r.a.createElement("img",{src:"".concat("/TeachLAFrontend","/img/sketch-thumbnails/").concat(-1!==this.state.newThumbnail?ot.SketchThumbnailArray[this.state.newThumbnail]:this.props.sketchImg,".svg"),className:"sketches-modal-header-thumbnail",alt:"icon"});return r.a.createElement(et.a,{isOpen:this.props.isOpen,onRequestClose:this.closeModal,className:"sketches-modal",overlayClassName:"profile-image-overlay",ariaHideApp:!1},r.a.createElement(tt.a,null,r.a.createElement("h2",{className:"text-center"},'Editing "',this.props.sketchName,'"'),r.a.createElement("hr",null),r.a.createElement(st.a,{row:!0},r.a.createElement(ct.a,{className:"text-right",for:"sketch-name",xs:4},"Name"),r.a.createElement(Xe.a,{xs:8},r.a.createElement(it.a,{onChange:function(t){return e.setState({newName:t.target.value})},value:-1!==this.state.newName?this.state.newName:this.props.sketchName,id:"sketch-name"}))),r.a.createElement("br",null),r.a.createElement(Ze.a,null,r.a.createElement(Xe.a,{xs:"4",className:"text-right"},"Language"),r.a.createElement(Xe.a,{xs:"8",className:"d-flex align-items-center"},r.a.createElement(rt,{dropdownItems:ot.LanguageDropdownValues,onSelect:function(t){return e.setState({newLanguage:t})},displayValue:-1!==this.state.newLanguage?this.state.newLanguage.display:this.props.sketchLang}))),r.a.createElement("br",null),r.a.createElement(Ze.a,null,r.a.createElement(Xe.a,{xs:"4",className:"text-right"},r.a.createElement("div",{className:"sketches-modal-header-thumbnail-container",style:{display:"block",marginLeft:"auto",marginRight:"0"}},t)),r.a.createElement(Xe.a,{xs:"8",className:"d-flex align-items-center"},r.a.createElement(O.a,{color:"primary",size:"lg",onClick:function(){e.setState({onThumbnails:!0})}},"Change"))),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center text-danger"},this.state.error||r.a.createElement("br",null)),r.a.createElement("hr",null),r.a.createElement(Ze.a,null,r.a.createElement(Xe.a,null,r.a.createElement(O.a,{color:"danger",onClick:this.closeModal,size:"lg",disabled:this.state.disableSubmit,block:!0},"Cancel")),r.a.createElement(Xe.a,null,r.a.createElement(O.a,{color:"success",onClick:this.handleSubmitEdit,size:"lg",disabled:this.state.disableSubmit,block:!0},"Confirm")))))}},{key:"renderThumbnailModal",value:function(){var e=this,t=ot.SketchThumbnailArray.map(function(t,n){return r.a.createElement("figure",{className:"sketches-gallery-item",key:t,onClick:function(){return e.setState({newThumbnail:n})}},r.a.createElement("img",{src:"".concat("/TeachLAFrontend","/img/sketch-thumbnails/").concat(t,".svg"),className:"sketches-gallery-img"+(e.state.newThumbnail===n?"-selected":""),alt:"icon"}))}),n=-1!==this.state.newThumbnail?r.a.createElement("img",{src:"".concat("/TeachLAFrontend","/img/sketch-thumbnails/").concat(ot.SketchThumbnailArray[this.state.newThumbnail],".svg"),className:"sketches-modal-header-thumbnail",alt:"icon"}):r.a.createElement("img",{src:"".concat("/TeachLAFrontend","/img/sketch-thumbnails/").concat(this.props.sketchImg,".svg"),className:"sketches-modal-header-thumbnail",alt:"icon"});return r.a.createElement(et.a,{isOpen:this.props.isOpen,onRequestClose:this.closeModal,className:"sketches-modal",overlayClassName:"profile-image-overlay",ariaHideApp:!1},r.a.createElement("form",null,r.a.createElement("div",{className:"sketches-modal-header d-flex align-items-center"},r.a.createElement("h1",null,"Choose a thumbnail"),r.a.createElement("div",{className:"ml-4 sketches-modal-header-thumbnail-container"},n)),r.a.createElement("hr",null),r.a.createElement("div",{className:"sketches-gallery"},t),r.a.createElement("div",{style:{color:"red",textAlign:"center"}},this.state.error||r.a.createElement("br",null))),r.a.createElement("hr",null),r.a.createElement(O.a,{color:"secondary",onClick:function(){e.setState({onThumbnails:!1})},size:"lg",block:!0},"Back")," ")}},{key:"render",value:function(){return this.state.onThumbnails?this.renderThumbnailModal():this.renderMainModal()}}]),t}(r.a.Component),pt=Object(D.b)(function(e){return{uid:e.userData.uid}},function(e){return{setProgramLanguage:function(t,n){return e(function(e,t){return{type:xe,program:e,value:t}}(t,n))},setProgramName:function(t,n){return e(function(e,t){return{type:Te,program:e,value:t}}(t,n))},setProgramThumbnail:function(t,n){return e(function(e,t){return{type:Re,program:e,value:t}}(t,n))}}})(dt),mt=(n(407),100),ht=220,gt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).getRandomSketchThumbnail=function(){return ot.SketchThumbnailArray[Math.floor(Math.random()*ot.SketchThumbnailArray.length)]},n.downloadSketchCode=function(e,t,n){var a=".";switch(t){case"python":a+="py";break;case"processing":case"html":a+="html";break;default:a+="txt"}var r,o=document.createElement("a");r="processing"===t?new Blob([ve(n,!0)],{type:"text/plain"}):new Blob([n],{type:"text/plain"}),o.href=URL.createObjectURL(r),o.download=e+a,document.body.appendChild(o),o.click()},n.setCreateSketchModalOpen=function(e){n.setState({createSketchModalOpen:e})},n.setConfirmDeleteModalOpen=function(e,t,a){n.setState({confirmDeleteModalOpen:e,selectedSketch:t,selectedKey:a})},n.setEditSketchModalOpen=function(e,t,a,r,o){n.setState({editSketchModalOpen:e,selectedSketch:t,selectedImg:a,selectedLang:r,selectedKey:o})},n.setProgram=function(e){n.props.setMostRecentProgram(e)},n.renderHeader=function(){return r.a.createElement("div",{className:"sketches-header"},r.a.createElement(de,null),r.a.createElement("div",{className:"sketches-header-text"},"Sketches"),r.a.createElement(O.a,{className:"ml-auto mr-2",color:"success",size:"lg",onClick:function(){return n.setCreateSketchModalOpen(!0)}},r.a.createElement(oe.a,{icon:re.f})," Create Sketch"))},n.getThumbnailSrc=function(e){return void 0===e||""===e||e>=ot.SketchThumbnailArray.length||e<0?ot.SketchThumbnailArray[0]:ot.SketchThumbnailArray[e]},n.renderSketches=function(){var e=n.props.programs.concat([]);if(0===e.size)return r.a.createElement("div",null,r.a.createElement("div",{className:"no-sketches-container"},r.a.createElement("h2",null,"There's nothing here! Why don't you try creating a sketch?"),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(O.a,{color:"success",size:"lg",onClick:function(){return n.setCreateSketchModalOpen(!0)}},"Create A Sketch"))));var t=[];e.sort(function(e,t){return e.name<t.name?-1:e.name===t.name?0:1}),e.forEach(function(e){var a,o,s=e.key,c=e.name,i=e.language,l=e.thumbnail,u=e.code;switch(i){case"python":a=fe.b,o="Python";break;case"processing":a=re.c,o="Processing";break;case"html":default:a=fe.a,o="HTML"}t.push(r.a.createElement($e,{img:n.getThumbnailSrc(l),icon:a,name:c,key:s,deleteFunc:function(){n.setConfirmDeleteModalOpen(!0,c,s)},downloadFunc:function(){n.downloadSketchCode(c,i,u)},editFunc:function(){n.setEditSketchModalOpen(!0,c,n.getThumbnailSrc(l),o,s)},redirFunc:function(){n.setProgram(s)}}))});for(var a=Math.floor((n.props.calculatedWidth-mt)/ht),o=[],s=t.length,c=0;c<s/a;c++)o.push(r.a.createElement("div",{className:"sketches-grid-row",key:c},t.splice(0,a)));return r.a.createElement("div",{className:"sketches-grid"},o)},n.renderConfirmDeleteModal=function(){return r.a.createElement(at,{isOpen:n.state.confirmDeleteModalOpen,onClose:function(){return n.setConfirmDeleteModalOpen(!1)},sketchName:n.state.selectedSketch,sketchKey:n.state.selectedKey})},n.renderCreateSketchModal=function(){return r.a.createElement(ut,{isOpen:n.state.createSketchModalOpen,onClose:function(){return n.setCreateSketchModalOpen(!1)}})},n.renderEditSketchModal=function(){return r.a.createElement(pt,{isOpen:n.state.editSketchModalOpen,onClose:function(){return n.setEditSketchModalOpen(!1)},sketchName:n.state.selectedSketch,sketchImg:n.state.selectedImg,sketchLang:n.state.selectedLang,sketchKey:n.state.selectedKey})},n.renderContent=function(){return r.a.createElement(r.a.Fragment,null,n.renderHeader(),n.renderSketches(),n.renderCreateSketchModal(),n.renderConfirmDeleteModal(),n.renderEditSketchModal())},n.state={confirmDeleteModalOpen:!1,createSketchModalOpen:!1,editSketchModalOpen:!1,selectedSketch:"",selectedImg:"",selectedLang:"",selectedKey:""},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e={left:this.props.left||0,width:this.props.calculatedWidth,height:this.props.screenHeight};return r.a.createElement("div",{className:"sketches-container",style:e},this.renderContent())}}]),t}(r.a.Component),ft=Object(D.b)(function(e){var t=e.userData.mostRecentProgram,n=e.programs.keySeq().map(function(t){var n=e.programs.get(t,Oe.a.Map()).toJS();return n.key=t,n}),a=(e.ui.panelOpen?M.OPEN_PANEL_LEFT:M.CLOSED_PANEL_LEFT)+M.PANEL_SIZE;return{mostRecentProgram:t,programs:n,calculatedWidth:e.ui.screenWidth-(a||0),left:a,screenHeight:e.ui.screenHeight,panelOpen:e.ui.panelOpen}},function(e){return{setMostRecentProgram:function(t){return e(J(t))},togglePanel:function(){return e(le())}}})(gt),bt=(n(408),n(409),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleOpenModal=function(){n.setState({showModal:!0,selectedImage:n.props.photoName})},n.handleCloseModal=function(){n.setState({selectedImage:"",showModal:!1})},n.handleEditNameClick=function(){n.setState(function(e){return{editingName:!0}})},n.handleEditImageClick=function(){n.setState(function(e){return{showModal:!0}})},n.onNameChange=function(e){n.setState({name:e.target.value})},n.checkInputs=function(){var e=n.state.name;return e.length<M.MINIMUM_DISPLAY_NAME_LENGTH||e.length>M.MAXIMUM_DISPLAY_NAME_LENGTH?(n.setState({displayNameMessage:"Display name must be between ".concat(M.MINIMUM_DISPLAY_NAME_LENGTH,"-").concat(M.MAXIMUM_DISPLAY_NAME_LENGTH," characters long")}),!0):!!e.match(/[^a-zA-Z0-9!@#$% ]/)&&(n.setState({displayNameMessage:"Only use upper case, lower case, numbers, spaces, and/or the following special characters !@#$%"}),!0)},n.onNameSubmit=function(e){return e.preventDefault(),n.checkInputs()?void n.setState({name:n.props.displayName,editingName:!1}):(n.props.setDisplayName(n.state.name),void n.setState({editingName:!1,displayNameMessage:""}))},n.onImageSubmit=function(){n.props.setPhotoName(n.state.selectedImage),n.handleCloseModal(),n.setState({selectedImage:""})},n.renderErrorMessage=function(e,t){return e?r.a.createElement("span",null,r.a.createElement("div",{className:"profile-input-error"},e)):t?r.a.createElement("br",null):null},n.renderPanelImage=function(){return r.a.createElement("div",{className:"panel-image-container",onMouseEnter:function(){return n.setState({imageIsHovering:!0})},onMouseLeave:function(){return n.setState({imageIsHovering:!1})}},r.a.createElement("img",{className:"panel-image",src:M.PHOTO_NAMES[n.props.photoName]||M.PHOTO_NAMES[M.DEFAULT_PHOTO_NAME],alt:"Your profile"}),n.state.imageIsHovering&&r.a.createElement("button",{className:"image-edit-button",onClick:n.handleOpenModal},r.a.createElement(oe.a,{icon:re.e})))},n.onImageClick=function(e){n.setState(function(t){return{selectedImage:e}})},n.renderImageModal=function(){var e=Object.keys(M.PHOTO_NAMES).map(function(e){return r.a.createElement("figure",{className:"gallery-item",key:e,onClick:function(){return n.onImageClick(e)}},r.a.createElement("img",{src:M.PHOTO_NAMES[e],className:"gallery-img"+(n.state.selectedImage===e?"-selected":""),alt:"icon"}))});return r.a.createElement(et.a,{isOpen:n.state.showModal,onRequestClose:n.handleCloseModal,className:"profile-image-modal",overlayClassName:"profile-image-overlay",ariaHideApp:!1},r.a.createElement("div",{className:"gallery"},e),r.a.createElement("div",{className:"text-center"},r.a.createElement(O.a,{color:"success",size:"lg",onClick:n.onImageSubmit,id:"modal-change-image-button"},"Submit")))},n.renderName=function(){return n.state.editingName?r.a.createElement("form",{className:"panel-edit-container",onSubmit:n.onNameSubmit},r.a.createElement("input",{autoFocus:!0,className:"panel-edit",placeholder:n.props.displayName,onChange:n.onNameChange,value:n.state.name,onBlur:n.onNameSubmit})):r.a.createElement("div",{className:"panel-name",onMouseEnter:function(){return n.setState({nameIsHovering:!0})},onMouseLeave:function(){return n.setState({nameIsHovering:!1})},onClick:n.handleEditNameClick},n.props.displayName||"Joe Bruin",n.state.nameIsHovering&&r.a.createElement("button",{className:"edit-icon-image",onClick:n.handleEditNameClick},r.a.createElement(oe.a,{icon:re.e})))},n.renderEditorButton=function(){return r.a.createElement(j.a,{to:{pathname:"/editor"},className:"panel-button btn btn-secondary btn-lg btn-block",key:"sketches-button"},r.a.createElement(oe.a,{icon:re.g}),r.a.createElement("span",{className:"panel-button-text"},"Editor"))},n.renderSketchesButton=function(){return r.a.createElement(j.a,{to:{pathname:"/sketches"},className:"panel-button btn btn-secondary btn-lg btn-block",key:"sketches-button"},r.a.createElement(oe.a,{icon:re.b}),r.a.createElement("span",{className:"panel-button-text"},"Sketches"))},n.renderSignOutButton=function(){return r.a.createElement(O.a,{className:"panel-button",key:"sign-out-button",size:"lg",block:!0,onClick:function(){return A.a.auth().signOut()}},r.a.createElement(oe.a,{icon:re.j}),r.a.createElement("span",{className:"panel-button-text"},"Log Out"))},n.renderButtons=function(){var e=[];switch(n.props.contentType){case"sketches":e.push(n.renderEditorButton());break;case"editor":e.push(n.renderSketchesButton())}return e.push(n.renderSignOutButton()),r.a.createElement("div",{className:"panel-buttons"},e)},n.renderContent=function(){return r.a.createElement("div",{className:"panel-content"},n.renderPanelImage(),n.renderImageModal(),n.renderName(),n.renderErrorMessage(n.state.displayNameMessage),n.renderButtons())},n.renderCollapseButton=function(){return r.a.createElement("div",{className:"panel-collapse-button",onClick:n.props.togglePanel},r.a.createElement(oe.a,{icon:re.l}))},n.state={nameIsHovering:!1,imageIsHovering:!1,editingName:!1,showModal:!1,name:n.props.displayName,selectedImage:"",displayNameMessage:""},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e={left:this.props.left,height:this.props.screenHeight,width:M.PANEL_SIZE};return r.a.createElement("div",{className:"panel",style:e},this.renderCollapseButton(),this.renderContent(),r.a.createElement(k,null))}}]),t}(r.a.Component)),Et=Object(D.b)(function(e,t){return{displayName:e.userData.displayName,uid:e.userData.uid,photoName:e.userData.photoName||M.DEFAULT_PHOTO_NAME,screenHeight:e.ui.screenHeight,left:e.ui.panelOpen?M.OPEN_PANEL_LEFT:M.CLOSED_PANEL_LEFT}},function(e,t){return{collectUserPhoto:function(){},setDisplayName:function(t){return e({type:q,value:t})},setPhotoName:function(t){return e({type:Y,photoName:t})},togglePanel:function(){e(le())}}})(bt),vt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).renderSketchesPage=function(){return r.a.createElement(ft,null)},n.renderEditor=function(){return r.a.createElement(Ye,null)},n.renderContent=function(){switch(n.props.contentType){case"sketches":return n.renderSketchesPage();case"editor":default:return n.renderEditor()}},n.state={textEditorSize:.5*n.props.screenWidth},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){this.props.screenWidth!==e.screenWidth&&this.setState({textEditorSize:.5*this.props.screenWidth})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"main",style:{width:this.props.screenWidth,height:this.props.screenHeight}},r.a.createElement(r.a.Fragment,null,r.a.createElement(Et,{contentType:this.props.contentType}),this.renderContent()))}}]),t}(r.a.Component),yt=Object(D.b)(function(e){return{screenWidth:e.ui.screenWidth,screenHeight:e.ui.screenHeight,panelOpen:e.ui.panelOpen,panelLeft:e.ui.panelOpen?M.OPEN_PANEL_LEFT:M.CLOSED_PANEL_LEFT}},function(e){return{togglePanel:function(){e(le())}}})(vt),kt=(n(410),function(e){return r.a.createElement("div",{className:"Loading"},r.a.createElement("div",{className:"Loading-title"},"Loading"),r.a.createElement(N.RingLoader,{color:"#171124",size:250,loading:!0}))}),wt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).checkInputs=function(){var e=n.state,t=e.username,a=e.password,r=e.confirmPassword,o=!0;return t.length<M.MINIMUM_USERNAME_LENGTH||t.length>M.MAXIMUM_USERNAME_LENGTH?(n.setState({usernameMessage:"Username must be between ".concat(M.MINIMUM_USERNAME_LENGTH,"-").concat(M.MAXIMUM_USERNAME_LENGTH," characters long")}),o=!1):t.match(/[^a-zA-Z0-9!@#$%]/)?(n.setState({usernameMessage:"Username must only use upper case and lower case letters, numbers, and/or the special characters !@#$%"}),o=!1):n.setState({usernameMessage:""}),a.length<M.MINIMUM_PASSWORD_LENGTH||a.length>M.MAXIMUM_PASSWORD_LENGTH?(n.setState({passwordMessage:"Password must be between ".concat(M.MINIMUM_PASSWORD_LENGTH,"-").concat(M.MAXIMUM_PASSWORD_LENGTH," characters long")}),o=!1):a.match(/[^a-zA-Z0-9!@#$%]/)?(n.setState({passwordMessage:"Password must only use upper case and lower case letters, numbers, and/or the special characters !@#$%"}),o=!1):a!==r?(n.setState({passwordMessage:"Password and Confirm Password don't match",password:"",confirmPassword:""}),o=!1):n.setState({passwordMessage:""}),o},n.submit=function(e){if(e.preventDefault(),n.setState({waiting:!0,errorMessage:"",usernameMessage:"",passwordMessage:""}),n.checkInputs()){var t=n.state.username+M.EMAIL_DOMAIN_NAME,a=S()(n.state.password).toString();A.a.auth().createUserWithEmailAndPassword(t,a).then(function(e){e.user}).catch(function(e){console.error(e);var t=e.message;switch(e.code){case"auth/invalid-email":t="Invalid username. Usernames must only have alphanumeric characters plus !@#$%.";break;case"auth/email-already-in-use":t="Username is taken; please use another one.";break;case"auth/user-not-found":t="No account found for username.";break;case"auth/wrong-password":t="Invalid password provided.";break;case"auth/network-request-failed":t="Network error - check your internet connection.";break;case"auth/app-deleted":case"auth/app-not-authorized":case"auth/argument-error":case"auth/invalid-api-key":case"auth/operation-not-allowed":case"auth/requires-recent-login":case"auth/unauthorized-domain":t="App was not properly configured. Please contact administrator. Error: "+e.code;break;case"auth/invalid-user-token":case"auth/user-disabled":case"auth/user-token-expired":case"auth/web-storage-unsupported":t="Issue with user. Please contact administrator. Error: "+e.code;break;default:t="Failed to create user: "+e.code}n.setState({waiting:!1,errorMessage:t||"Failed to create user."})}),n.setState({password:"",confirmPassword:""})}else n.setState({waiting:!1})},n.renderErrorMessage=function(e,t){return e?r.a.createElement("span",null,r.a.createElement("div",{className:"login-form-input-error"},e)):t?r.a.createElement("br",null):null},n.updateUsername=function(e){return n.setState({username:e})},n.updatePassword=function(e){return n.setState({password:e})},n.updateConfirmPassword=function(e){return n.setState({confirmPassword:e})},n.renderInputs=function(){return r.a.createElement("div",{className:"login-form-input-list"},r.a.createElement("div",null,r.a.createElement(L,{type:"Username",data:n.state.username,waiting:n.state.waiting,onChange:n.updateUsername}),r.a.createElement(L,{type:"Password",data:n.state.password,waiting:n.state.waiting,onChange:n.updatePassword}),r.a.createElement(L,{type:"Confirm Password",data:n.state.confirmPassword,waiting:n.state.waiting,onChange:n.updateConfirmPassword}),n.renderErrorMessage(n.state.usernameMessage),n.renderErrorMessage(n.state.passwordMessage),n.renderErrorMessage(n.state.errorMessage,!0)))},n.renderAction=function(){return n.state.waiting?r.a.createElement("div",{className:"login-form-loader"},r.a.createElement(N.RingLoader,{color:"#857e8f",size:50,loading:!0})):r.a.createElement(O.a,{className:"login-form-button",size:"lg",type:"submit"},"Create Account")},n.renderLink=function(){return r.a.createElement(j.a,{to:"/login",className:"login-form-link"},"Already have an account? Click here to login.")},n.state={username:"",password:"",confirmPassword:"",errorMessage:"",waiting:!1,usernameMessage:"",passwordMessage:""},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-form-container"},r.a.createElement("form",{className:"login-form",onSubmit:this.submit},r.a.createElement("h1",null,"Create a new account"),r.a.createElement("br",null),this.renderInputs(),this.renderAction(),r.a.createElement("br",null),r.a.createElement("br",null),this.renderLink()))}}]),t}(r.a.Component),St=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-page-content",style:{backgroundImage:"url(".concat(T.a,")")}},r.a.createElement(wt,null)),r.a.createElement(k,null))}}]),t}(r.a.Component),Ot=n(278),Nt=n(55),Mt=Object(Nt.c)(Object(D.b)(function(e,t){return{}},function(e){return{}}),Ot.withFirestore)(St),Ct=(n(267),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-container"},r.a.createElement("h2",null,"Uh oh, something went wrong!"),r.a.createElement("h1",null,"Error: ",this.props.errorMsg),r.a.createElement("br",null),r.a.createElement(j.a,{to:"/"},r.a.createElement(O.a,{color:"success",size:"lg"},"Back to safety")),"\xa0",r.a.createElement(O.a,{color:"danger",size:"lg",onClick:function(){return A.a.auth().signOut()}},"Log Out"),r.a.createElement(k,null))}}]),t}(r.a.Component)),jt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-container"},r.a.createElement("span",null,"Error: 404"),r.a.createElement("h1",null,"Uh oh, page not found!"),r.a.createElement("br",null),r.a.createElement(j.a,{to:"/"},r.a.createElement(O.a,{color:"success",size:"lg"},"Back to safety")),r.a.createElement(k,null))}}]),t}(r.a.Component),Lt=(n(577),new A.a.auth.FacebookAuthProvider),Pt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).componentWillMount=function(){A.a.auth().onAuthStateChanged(function(){var e=Object(l.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.onAuthHandler(t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("resize",n.handleResize,!0)},n.componentWillUnmout=function(){window.removeEventListener("resize",n.handleResize,!0)},n.handleResize=function(){n.props.screenResize(window.innerWidth,window.innerHeight)},n.onAuthHandler=function(){var e=Object(l.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("checking auth"),!t){e.next=14;break}if(console.log("found user"),!(a=t.uid)){e.next=10;break}return e.next=7,n.props.loadUserData(a,n.showErrorPage);case 7:n.setState({checkedAuth:!0}),e.next=12;break;case 10:n.props.loadFailure("Failed to load user data..."),n.setState({checkedAuth:!0});case 12:e.next=17;break;case 14:console.log("no user found"),n.props.clearUserData(),n.setState({checkedAuth:!0});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.showErrorPage=function(e){console.log(e),n.props.loadFailure(e)},n.renderHome=function(e){return e?r.a.createElement(g.a,{to:"/editor"}):r.a.createElement(g.a,{to:"/login"})},n.state={checkedAuth:!1},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this;if(!this.state.checkedAuth)return r.a.createElement(kt,null);if(""!==this.props.errorMsg)return r.a.createElement(Ct,{errorMsg:this.props.errorMsg});var t=this.props.uid;return r.a.createElement(f.a,{basename:"/TeachLAFrontend"},r.a.createElement("div",{className:"App"},r.a.createElement(b.a,null,r.a.createElement(E.a,{exact:!0,path:"/",render:function(){return t?r.a.createElement(g.a,{to:"/editor"}):r.a.createElement(Z,{provider:Lt})}}),r.a.createElement(E.a,{path:"/login",render:function(){return t?r.a.createElement(g.a,{to:"/editor"}):r.a.createElement(Z,{provider:Lt})}}),r.a.createElement(E.a,{path:"/editor",render:function(){return t?r.a.createElement(yt,{contentType:"editor"}):r.a.createElement(g.a,{to:"/login"})}}),r.a.createElement(E.a,{path:"/createUser",render:function(){return t?r.a.createElement(g.a,{to:"/editor"}):r.a.createElement(Mt,null)}}),r.a.createElement(E.a,{path:"/sketches",render:function(){return t?r.a.createElement(yt,{contentType:"sketches"}):r.a.createElement(g.a,{to:"/login"})}}),r.a.createElement(E.a,{path:"/error",render:function(){return e.props.errorMsg?r.a.createElement(Ct,{errorMsg:e.props.errorMsg}):e.renderHome(t)}}),r.a.createElement(E.a,{render:function(){return r.a.createElement(jt,null)}}))))}}]),t}(r.a.Component),At=Object(D.b)(function(e){return{uid:e.userData.uid,errorMsg:e.userData.error,screenWidth:e.ui.screenWidth,screenHeight:e.ui.screenHeight}},function(e){return{loadUserData:function(){var t=Object(l.a)(i.a.mark(function t(n,a){var r,o,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne(n,!0);case 2:r=t.sent,o=r.ok,s=r.data,o&&s&&s.userData&&Object.keys(s.userData).length?(s.programs&&e((c=s.programs,{type:_e,programs:c})),e(W(n,s.userData))):a("SERVER ERROR: Unable to get user data from server");case 6:case"end":return t.stop()}var c},t)}));return function(e,n){return t.apply(this,arguments)}}(),clearUserData:function(){e(z()),e({type:He})},loadFailure:function(t){e(V(t))},screenResize:function(t,n){return e(function(e,t){return{type:ce,width:e,height:t}}(t,n))}}})(Pt),It=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Tt={error:"",displayName:"",uid:"",mostRecentProgram:"",photoName:""};var Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object.assign({},e,t.userData);case B:return Tt;case G:return Object.assign({},e,{error:t.message});case q:var n=t.value;return Ce(e.uid,{displayName:n}).then(function(e){}).catch(function(t){e.error=t,console.log(t)}),Object.assign({},e,{displayName:n});case Y:var a=t.photoName;return Ce(e.uid,{photoName:a}).then(function(e){}).catch(function(t){e.error=t,console.log(t)}),Object.assign({},e,{photoName:a});case K:return Ce(e.uid,{mostRecentProgram:t.value}).then(function(e){}).catch(function(t){e.error=t,console.log(t)}),Object.assign({},e,{mostRecentProgram:t.value});default:return e}},Dt=Oe.a.Map();var _t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Oe.a.fromJS(t.programs);case Ie:return e.setIn([t.program,"code"],t.value);case xe:return e.setIn([t.program,"language"],t.value);case Ue:return e.setIn([t.program,"dirty"],t.value);case Te:return e.setIn([t.program,"name"],t.value);case Re:return e.setIn([t.program,"thumbnail"],t.value);case We:return e.set(t.program,Oe.a.fromJS(t.data));case De:return e.delete(t.program);case He:return Oe.a.Map();default:return e}},Ht={runResult:"",language:M.PYTHON};var Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return Ht;case qe:return Object.assign({},e,{runResult:t.value});case Ke:return Object.assign({},e,{language:t.value});case Je:return Object.assign({},e,{runResult:t.runResult,language:t.language});default:return e}},Ft={screenWidth:"object"===typeof window?window.innerWidth:null,screenHeight:"object"===typeof window?window.innerHeight:null,panelOpen:!1};var Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object.assign({},e,{screenWidth:t.width,screenHeight:t.height});case ie:return Object.assign({},e,{panelOpen:!e.panelOpen});case ue:return Object.assign({},e,{panelOpen:t.value});default:return e}},Bt=Object(Nt.b)({userData:Rt,output:Ut,programs:_t,ui:Wt}),zt=n(279);A.a.initializeApp(zt.a);var Gt=Object(Nt.d)(Bt);s.a.render(r.a.createElement(D.a,{store:Gt},r.a.createElement(At,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/TeachLAFrontend",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/TeachLAFrontend","/service-worker.js");It?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):xt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):xt(e)})}}()}},[[281,1,2]]]);
//# sourceMappingURL=main.0f32ecb5.chunk.js.map